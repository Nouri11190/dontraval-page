<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dontraval Payments Dashboard</title>
  <style>
    body { font-family: Arial, sans-serif; background: #0d1117; color: #e6edf3; margin: 0; padding: 20px; }
    h1 { color: #58a6ff; }
    #log { margin-top: 20px; padding: 10px; border-radius: 8px; background: #161b22; }
    .tx { padding: 8px; margin-bottom: 6px; border-left: 4px solid #58a6ff; background: #21262d; border-radius: 4px; }
    .native { border-color: #ffa657; }
    .erc20 { border-color: #3fb950; }
  </style>
</head>
<body>
  <h1>ðŸ’¸ Dontraval Live Payments</h1>
  <div id="log"></div>

  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
  <script>
    const socket = io("http://localhost:3000"); // if deployed on Cloudflare/other, change this

    const log = document.getElementById("log");

    socket.on("payment", (data) => {
      const div = document.createElement("div");
      div.className = "tx " + (data.type === "native" ? "native" : "erc20");
      div.textContent =
        `[${data.network}] ${data.type} â†’ Amount: ${data.amount} | TxHash: ${data.hash || "Token Transfer"}`;
      log.prepend(div);
    });
  </script>
</body>
</html>
